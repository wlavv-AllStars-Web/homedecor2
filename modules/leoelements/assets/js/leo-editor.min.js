/**
 *  @Website: leotheme.com - prestashop template provider
 *  @author Leotheme <leotheme@gmail.com>
 *  @copyright  Leotheme
 *  @description: 
 */

$(function(){elementor.fileManager=elementor.dialogsManager.createWidget("lightbox",{id:"leo-file-manager-modal",closeButton:!0,closeButtonClass:"eicon-close",headerMessage:'<div class="elementor-templates-modal__header"><div class="elementor-templates-modal__header__logo-area"><div class="elementor-templates-modal__header__logo"><span class="elementor-templates-modal__header__logo__icon-wrapper"><i class="eicon-elementor"></i></span><span class="elementor-templates-modal__header__logo__title">'+elementor.translate("file_manager")+"</span></div></div></div>",onReady:function(){var i=this.getElements("message").html('<iframe id="leo-file-manager" width="865" height="568"></iframe>');this.iframe=i.children().get(0),this.url=baseAdminDir+"filemanager/dialog.php?type=1",this.open=function(e,t){this.fieldId=e,this.validType=t,this.valOriginal=$("#"+e).val(),this.iframe.contentWindow?(this.initFrame(),this.getElements("widget").appendTo=function(){return $(this)}):(i.prepend($("#tmpl-elementor-template-library-loading").html()),this.iframe.src=this.url),this.show()},this.initFrame=function(){var e=$(this.iframe).contents();e.find("a.link").data("field_id",this.fieldId),e.find("a.link").attr("data-field_id",this.fieldId),this.iframe.contentWindow.close_window=this.hide.bind(this)},this.iframe.onload=this.initFrame.bind(this),this.checkSvg=function(e){return"svg"===this.getExtension(e).toLowerCase()},this.checkImage=function(e){switch(this.getExtension(e).toLowerCase()){case"jpg":case"jpeg":case"gif":case"bmp":case"png":case"svg":return!0}return!1},this.getExtension=function(e){e=e.split(".");return e[e.length-1]}},onHide:function(){var e=$("#"+this.fieldId);if(""!=e.val())switch(this.validType.toLowerCase()){case"img":this.checkImage(e.val())?e.val(e.val()).trigger("change"):(e.val(this.valOriginal),alert("Please select a valid image."));break;case"svg":this.checkSvg(e.val())?e.val(e.val()).trigger("change"):(e.val(this.valOriginal),alert("Please select a valid svg."))}}});function e(){var e=elementor.settings.page.model.get("custom_css");e&&(e=e.replace(/selector/g,elementor.config.settings.page.cssWrapperSelector),elementor.settings.page.getControlsCSS().elements.$stylesheetElement.append(e))}elementor.on("preview:loaded",e),elementor.settings.page.model.on("change",e);elementor.hooks.addFilter("editor/style/styleText",function(e,t){var i=t.model,t=i.get("settings").get("custom_css"),i=".elementor-element.elementor-element-"+i.get("id");return t&&(e+=t.replace(/selector/g,i)),e})});